if (navigator.onLine) {
    removeOffline();
    console.log("正常工作！");

} else {
    //执行离线状态时的任务
    getOffLine();
    console.log("离线工作！");

}

var EventUtil = {
    addHandler: function(element, type, handler) {
        if (element.addEventListener) {
            element.addEventListener(type, handler, false);
        } else if (element.attachEvent) {
            element.attachEvent("on" + type, handler);
        } else {
            element["on" + type] = handler;
        }
    }
};

EventUtil.addHandler(window, "online", function() {
    //alert("Online---正常工作");
    removeOffline();
});
EventUtil.addHandler(window, "offline", function() {
    //alert("Offline ---离线工作");
    getOffLine();
});

getOffLine:function(){
    var oDiv=document.createElement('div');
    oDiv.id='offline-div'
    oDiv.innerHTML='<img src="./static/images/sigo.png"><p>network failure</p><button>retry</button>';
    document.body.appendChild(oDiv);
    //把属性class = "test"添加到div
 
}

removeOffline:function(){
    var oDiv=document.getElementById('offline-div');
    if(oDiv){
        document.body.removeChild(oDiv);
    }
    
}
