if (navigator.onLine) {

    console.log("正常工作！");

} else {
    //执行离线状态时的任务

    console.log("离线工作！");

}

var EventUtil = {
    addHandler: function(element, type, handler) {
        if (element.addEventListener) {
            element.addEventListener(type, handler, false);
        } else if (element.attachEvent) {
            element.attachEvent("on" + type, handler);
        } else {
            element["on" + type] = handler;
        }
    }
};

EventUtil.addHandler(window, "online", function() {
    alert("Online---正常工作");
});
EventUtil.addHandler(window, "offline", function() {
    alert("Offline ---离线工作");
});
